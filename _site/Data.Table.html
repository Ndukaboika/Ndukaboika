<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nduka Boika">

<title>Data wrangling with data.frame – Nduka</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-bd263b0456d03d9163c032fb0c3f4069.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<meta property="og:title" content="Data wrangling with data.frame – Nduka">
<meta property="og:description" content="">
<meta property="og:site_name" content="Nduka">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Nduka</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./dashboard.html"> 
<span class="menu-text">Data Viz</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./blog/"> 
<span class="menu-text">Blog</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data wrangling with data.frame</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Nduka Boika </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p>Data is as important as the statistical methods used to analyse the data. Infact some statistical methods were developed based on data structures. An example is multilevel models for longitudinal and multilevels data. However, before you can use the data in statistical analysis it has to be valid or clean. For this tutorial, we will use the <code>data.table</code> package in R.</p>
<section id="load-libraries" class="level2">
<h2 class="anchored" data-anchor-id="load-libraries">Load libraries</h2>
<p>Firstly we want to load the necessary libraries. <code>library(data.table)</code> and <code>library(NHANES)</code>. NHANES is the dataset we will use for this tutorial.</p>
<div class="{note}">
<p>You must install a package before you can load it. For example, to install the <code>data.table</code> package, run <code>install.packages("data.table")</code>.</p>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">#View(eurosoccer)</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(NHANES)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="explore-the-dataset" class="level2">
<h2 class="anchored" data-anchor-id="explore-the-dataset">Explore the dataset</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>nhanes <span class="ot">&lt;-</span> <span class="fu">data.table</span>(NHANES)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tables</span>(nhanes) <span class="co"># gives the lists of data.tables with dimension information.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     NAME  NROW NCOL                                           COLS    KEY
1: nhanes 10000   76 ID,SurveyYr,Gender,Age,AgeDecade,AgeMonths,... [NULL]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>nhanes <span class="co"># to view the dataset</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          ID SurveyYr Gender   Age AgeDecade AgeMonths   Race1   Race3
       &lt;int&gt;   &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt;    &lt;fctr&gt;     &lt;int&gt;  &lt;fctr&gt;  &lt;fctr&gt;
    1: 51624  2009_10   male    34     30-39       409   White    &lt;NA&gt;
    2: 51624  2009_10   male    34     30-39       409   White    &lt;NA&gt;
    3: 51624  2009_10   male    34     30-39       409   White    &lt;NA&gt;
    4: 51625  2009_10   male     4       0-9        49   Other    &lt;NA&gt;
    5: 51630  2009_10 female    49     40-49       596   White    &lt;NA&gt;
   ---                                                                
 9996: 71909  2011_12   male    28     20-29        NA Mexican Mexican
 9997: 71910  2011_12 female     0       0-9         5   White   White
 9998: 71911  2011_12   male    27     20-29        NA Mexican Mexican
 9999: 71915  2011_12   male    60     60-69        NA   White   White
10000: 71915  2011_12   male    60     60-69        NA   White   White
            Education MaritalStatus    HHIncome HHIncomeMid Poverty HomeRooms
               &lt;fctr&gt;        &lt;fctr&gt;      &lt;fctr&gt;       &lt;int&gt;   &lt;num&gt;     &lt;int&gt;
    1:    High School       Married 25000-34999       30000    1.36         6
    2:    High School       Married 25000-34999       30000    1.36         6
    3:    High School       Married 25000-34999       30000    1.36         6
    4:           &lt;NA&gt;          &lt;NA&gt; 20000-24999       22500    1.07         9
    5:   Some College   LivePartner 35000-44999       40000    1.91         5
   ---                                                                       
 9996: 9 - 11th Grade  NeverMarried   5000-9999        7500    0.46         3
 9997:           &lt;NA&gt;          &lt;NA&gt; 75000-99999       87500    3.37        10
 9998:   College Grad       Married 75000-99999       87500    3.25        10
 9999:   College Grad  NeverMarried 65000-74999       70000    5.00         4
10000:   College Grad  NeverMarried 65000-74999       70000    5.00         4
       HomeOwn       Work Weight Length HeadCirc Height   BMI BMICatUnder20yrs
        &lt;fctr&gt;     &lt;fctr&gt;  &lt;num&gt;  &lt;num&gt;    &lt;num&gt;  &lt;num&gt; &lt;num&gt;           &lt;fctr&gt;
    1:     Own NotWorking   87.4     NA       NA  164.7 32.22             &lt;NA&gt;
    2:     Own NotWorking   87.4     NA       NA  164.7 32.22             &lt;NA&gt;
    3:     Own NotWorking   87.4     NA       NA  164.7 32.22             &lt;NA&gt;
    4:     Own       &lt;NA&gt;   17.0     NA       NA  105.4 15.30             &lt;NA&gt;
    5:    Rent NotWorking   86.7     NA       NA  168.4 30.57             &lt;NA&gt;
   ---                                                                        
 9996:    Rent    Working   92.3     NA       NA  177.3 29.40             &lt;NA&gt;
 9997:     Own       &lt;NA&gt;    6.7   67.6     42.2     NA    NA             &lt;NA&gt;
 9998:     Own    Working   96.7     NA       NA  175.8 31.30             &lt;NA&gt;
 9999:     Own    Working   78.4     NA       NA  168.8 27.50             &lt;NA&gt;
10000:     Own    Working   78.4     NA       NA  168.8 27.50             &lt;NA&gt;
            BMI_WHO Pulse BPSysAve BPDiaAve BPSys1 BPDia1 BPSys2 BPDia2 BPSys3
             &lt;fctr&gt; &lt;int&gt;    &lt;int&gt;    &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;
    1:    30.0_plus    70      113       85    114     88    114     88    112
    2:    30.0_plus    70      113       85    114     88    114     88    112
    3:    30.0_plus    70      113       85    114     88    114     88    112
    4:    12.0_18.5    NA       NA       NA     NA     NA     NA     NA     NA
    5:    30.0_plus    86      112       75    118     82    108     74    116
   ---                                                                        
 9996: 25.0_to_29.9    68      124       65    124     62    126     64    122
 9997:         &lt;NA&gt;    NA       NA       NA     NA     NA     NA     NA     NA
 9998:    30.0_plus    74      133       74    122     76    132     82    134
 9999: 25.0_to_29.9    76      147       73    150     72    148     74    146
10000: 25.0_to_29.9    76      147       73    150     72    148     74    146
       BPDia3 Testosterone DirectChol TotChol UrineVol1 UrineFlow1 UrineVol2
        &lt;int&gt;        &lt;num&gt;      &lt;num&gt;   &lt;num&gt;     &lt;int&gt;      &lt;num&gt;     &lt;int&gt;
    1:     82           NA       1.29    3.49       352         NA        NA
    2:     82           NA       1.29    3.49       352         NA        NA
    3:     82           NA       1.29    3.49       352         NA        NA
    4:     NA           NA         NA      NA        NA         NA        NA
    5:     76           NA       1.16    6.70        77      0.094        NA
   ---                                                                      
 9996:     66       490.43       1.22    3.90        97      0.942        NA
 9997:     NA           NA         NA      NA        NA         NA        NA
 9998:     66       509.00       1.06    5.72        63      0.600        NA
 9999:     72       505.13       0.93    4.94       218      1.253        NA
10000:     72       505.13       0.93    4.94       218      1.253        NA
       UrineFlow2 Diabetes DiabetesAge HealthGen DaysPhysHlthBad
            &lt;num&gt;   &lt;fctr&gt;       &lt;int&gt;    &lt;fctr&gt;           &lt;int&gt;
    1:         NA       No          NA      Good               0
    2:         NA       No          NA      Good               0
    3:         NA       No          NA      Good               0
    4:         NA       No          NA      &lt;NA&gt;              NA
    5:         NA       No          NA      Good               0
   ---                                                          
 9996:         NA       No          NA      &lt;NA&gt;              NA
 9997:         NA     &lt;NA&gt;          NA      &lt;NA&gt;              NA
 9998:         NA       No          NA      Good               0
 9999:         NA      Yes          56      Good               0
10000:         NA      Yes          56      Good               0
       DaysMentHlthBad LittleInterest Depressed nPregnancies nBabies Age1stBaby
                 &lt;int&gt;         &lt;fctr&gt;    &lt;fctr&gt;        &lt;int&gt;   &lt;int&gt;      &lt;int&gt;
    1:              15           Most   Several           NA      NA         NA
    2:              15           Most   Several           NA      NA         NA
    3:              15           Most   Several           NA      NA         NA
    4:              NA           &lt;NA&gt;      &lt;NA&gt;           NA      NA         NA
    5:              10        Several   Several            2       2         27
   ---                                                                         
 9996:              NA           &lt;NA&gt;      &lt;NA&gt;           NA      NA         NA
 9997:              NA           &lt;NA&gt;      &lt;NA&gt;           NA      NA         NA
 9998:               2           None      None           NA      NA         NA
 9999:               2           None      None           NA      NA         NA
10000:               2           None      None           NA      NA         NA
       SleepHrsNight SleepTrouble PhysActive PhysActiveDays TVHrsDay CompHrsDay
               &lt;int&gt;       &lt;fctr&gt;     &lt;fctr&gt;          &lt;int&gt;   &lt;fctr&gt;     &lt;fctr&gt;
    1:             4          Yes         No             NA     &lt;NA&gt;       &lt;NA&gt;
    2:             4          Yes         No             NA     &lt;NA&gt;       &lt;NA&gt;
    3:             4          Yes         No             NA     &lt;NA&gt;       &lt;NA&gt;
    4:            NA         &lt;NA&gt;       &lt;NA&gt;             NA     &lt;NA&gt;       &lt;NA&gt;
    5:             8          Yes         No             NA     &lt;NA&gt;       &lt;NA&gt;
   ---                                                                         
 9996:             6           No        Yes             NA     1_hr       2_hr
 9997:            NA         &lt;NA&gt;       &lt;NA&gt;             NA     &lt;NA&gt;       &lt;NA&gt;
 9998:             6           No         No              3     1_hr  0_to_1_hr
 9999:             6           No         No              1     2_hr       1_hr
10000:             6           No         No             NA     2_hr       1_hr
       TVHrsDayChild CompHrsDayChild Alcohol12PlusYr AlcoholDay AlcoholYear
               &lt;int&gt;           &lt;int&gt;          &lt;fctr&gt;      &lt;int&gt;       &lt;int&gt;
    1:            NA              NA             Yes         NA           0
    2:            NA              NA             Yes         NA           0
    3:            NA              NA             Yes         NA           0
    4:             4               1            &lt;NA&gt;         NA          NA
    5:            NA              NA             Yes          2          20
   ---                                                                     
 9996:            NA              NA            &lt;NA&gt;         NA          NA
 9997:            NA              NA            &lt;NA&gt;         NA          NA
 9998:            NA              NA             Yes          5           4
 9999:            NA              NA             Yes         NA           0
10000:            NA              NA             Yes         NA           0
       SmokeNow Smoke100  Smoke100n SmokeAge Marijuana AgeFirstMarij
         &lt;fctr&gt;   &lt;fctr&gt;     &lt;fctr&gt;    &lt;int&gt;    &lt;fctr&gt;         &lt;int&gt;
    1:       No      Yes     Smoker       18       Yes            17
    2:       No      Yes     Smoker       18       Yes            17
    3:       No      Yes     Smoker       18       Yes            17
    4:     &lt;NA&gt;     &lt;NA&gt;       &lt;NA&gt;       NA      &lt;NA&gt;            NA
    5:      Yes      Yes     Smoker       38       Yes            18
   ---                                                              
 9996:      Yes      Yes     Smoker       18      &lt;NA&gt;            NA
 9997:     &lt;NA&gt;     &lt;NA&gt;       &lt;NA&gt;       NA      &lt;NA&gt;            NA
 9998:     &lt;NA&gt;       No Non-Smoker       NA       Yes            22
 9999:     &lt;NA&gt;       No Non-Smoker       NA      &lt;NA&gt;            NA
10000:     &lt;NA&gt;       No Non-Smoker       NA      &lt;NA&gt;            NA
       RegularMarij AgeRegMarij HardDrugs SexEver SexAge SexNumPartnLife
             &lt;fctr&gt;       &lt;int&gt;    &lt;fctr&gt;  &lt;fctr&gt;  &lt;int&gt;           &lt;int&gt;
    1:           No          NA       Yes     Yes     16               8
    2:           No          NA       Yes     Yes     16               8
    3:           No          NA       Yes     Yes     16               8
    4:         &lt;NA&gt;          NA      &lt;NA&gt;    &lt;NA&gt;     NA              NA
    5:           No          NA       Yes     Yes     12              10
   ---                                                                  
 9996:         &lt;NA&gt;          NA      &lt;NA&gt;    &lt;NA&gt;     NA              NA
 9997:         &lt;NA&gt;          NA      &lt;NA&gt;    &lt;NA&gt;     NA              NA
 9998:           No          NA        No     Yes     21               1
 9999:         &lt;NA&gt;          NA        No     Yes     19               2
10000:         &lt;NA&gt;          NA        No     Yes     19               2
       SexNumPartYear SameSex SexOrientation PregnantNow
                &lt;int&gt;  &lt;fctr&gt;         &lt;fctr&gt;      &lt;fctr&gt;
    1:              1      No   Heterosexual        &lt;NA&gt;
    2:              1      No   Heterosexual        &lt;NA&gt;
    3:              1      No   Heterosexual        &lt;NA&gt;
    4:             NA    &lt;NA&gt;           &lt;NA&gt;        &lt;NA&gt;
    5:              1     Yes   Heterosexual        &lt;NA&gt;
   ---                                                  
 9996:             NA    &lt;NA&gt;           &lt;NA&gt;        &lt;NA&gt;
 9997:             NA    &lt;NA&gt;           &lt;NA&gt;        &lt;NA&gt;
 9998:              1      No   Heterosexual        &lt;NA&gt;
 9999:             NA      No           &lt;NA&gt;        &lt;NA&gt;
10000:             NA      No           &lt;NA&gt;        &lt;NA&gt;</code></pre>
</div>
</div>
<p>We can order the dataset by a particular row</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>nhanes[<span class="dv">1</span>] <span class="co"># gives information for the 1 row or participant.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      ID SurveyYr Gender   Age AgeDecade AgeMonths  Race1  Race3   Education
   &lt;int&gt;   &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt;    &lt;fctr&gt;     &lt;int&gt; &lt;fctr&gt; &lt;fctr&gt;      &lt;fctr&gt;
1: 51624  2009_10   male    34     30-39       409  White   &lt;NA&gt; High School
   MaritalStatus    HHIncome HHIncomeMid Poverty HomeRooms HomeOwn       Work
          &lt;fctr&gt;      &lt;fctr&gt;       &lt;int&gt;   &lt;num&gt;     &lt;int&gt;  &lt;fctr&gt;     &lt;fctr&gt;
1:       Married 25000-34999       30000    1.36         6     Own NotWorking
   Weight Length HeadCirc Height   BMI BMICatUnder20yrs   BMI_WHO Pulse
    &lt;num&gt;  &lt;num&gt;    &lt;num&gt;  &lt;num&gt; &lt;num&gt;           &lt;fctr&gt;    &lt;fctr&gt; &lt;int&gt;
1:   87.4     NA       NA  164.7 32.22             &lt;NA&gt; 30.0_plus    70
   BPSysAve BPDiaAve BPSys1 BPDia1 BPSys2 BPDia2 BPSys3 BPDia3 Testosterone
      &lt;int&gt;    &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;        &lt;num&gt;
1:      113       85    114     88    114     88    112     82           NA
   DirectChol TotChol UrineVol1 UrineFlow1 UrineVol2 UrineFlow2 Diabetes
        &lt;num&gt;   &lt;num&gt;     &lt;int&gt;      &lt;num&gt;     &lt;int&gt;      &lt;num&gt;   &lt;fctr&gt;
1:       1.29    3.49       352         NA        NA         NA       No
   DiabetesAge HealthGen DaysPhysHlthBad DaysMentHlthBad LittleInterest
         &lt;int&gt;    &lt;fctr&gt;           &lt;int&gt;           &lt;int&gt;         &lt;fctr&gt;
1:          NA      Good               0              15           Most
   Depressed nPregnancies nBabies Age1stBaby SleepHrsNight SleepTrouble
      &lt;fctr&gt;        &lt;int&gt;   &lt;int&gt;      &lt;int&gt;         &lt;int&gt;       &lt;fctr&gt;
1:   Several           NA      NA         NA             4          Yes
   PhysActive PhysActiveDays TVHrsDay CompHrsDay TVHrsDayChild CompHrsDayChild
       &lt;fctr&gt;          &lt;int&gt;   &lt;fctr&gt;     &lt;fctr&gt;         &lt;int&gt;           &lt;int&gt;
1:         No             NA     &lt;NA&gt;       &lt;NA&gt;            NA              NA
   Alcohol12PlusYr AlcoholDay AlcoholYear SmokeNow Smoke100 Smoke100n SmokeAge
            &lt;fctr&gt;      &lt;int&gt;       &lt;int&gt;   &lt;fctr&gt;   &lt;fctr&gt;    &lt;fctr&gt;    &lt;int&gt;
1:             Yes         NA           0       No      Yes    Smoker       18
   Marijuana AgeFirstMarij RegularMarij AgeRegMarij HardDrugs SexEver SexAge
      &lt;fctr&gt;         &lt;int&gt;       &lt;fctr&gt;       &lt;int&gt;    &lt;fctr&gt;  &lt;fctr&gt;  &lt;int&gt;
1:       Yes            17           No          NA       Yes     Yes     16
   SexNumPartnLife SexNumPartYear SameSex SexOrientation PregnantNow
             &lt;int&gt;          &lt;int&gt;  &lt;fctr&gt;         &lt;fctr&gt;      &lt;fctr&gt;
1:               8              1      No   Heterosexual        &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>nhanes[Age <span class="sc">&gt;</span> <span class="dv">5</span>] <span class="co"># if you want dataset for values of Age &gt; 5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         ID SurveyYr Gender   Age AgeDecade AgeMonths   Race1   Race3
      &lt;int&gt;   &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt;    &lt;fctr&gt;     &lt;int&gt;  &lt;fctr&gt;  &lt;fctr&gt;
   1: 51624  2009_10   male    34     30-39       409   White    &lt;NA&gt;
   2: 51624  2009_10   male    34     30-39       409   White    &lt;NA&gt;
   3: 51624  2009_10   male    34     30-39       409   White    &lt;NA&gt;
   4: 51630  2009_10 female    49     40-49       596   White    &lt;NA&gt;
   5: 51638  2009_10   male     9       0-9       115   White    &lt;NA&gt;
  ---                                                                
9145: 71909  2011_12   male    28     20-29        NA Mexican Mexican
9146: 71909  2011_12   male    28     20-29        NA Mexican Mexican
9147: 71911  2011_12   male    27     20-29        NA Mexican Mexican
9148: 71915  2011_12   male    60     60-69        NA   White   White
9149: 71915  2011_12   male    60     60-69        NA   White   White
           Education MaritalStatus    HHIncome HHIncomeMid Poverty HomeRooms
              &lt;fctr&gt;        &lt;fctr&gt;      &lt;fctr&gt;       &lt;int&gt;   &lt;num&gt;     &lt;int&gt;
   1:    High School       Married 25000-34999       30000    1.36         6
   2:    High School       Married 25000-34999       30000    1.36         6
   3:    High School       Married 25000-34999       30000    1.36         6
   4:   Some College   LivePartner 35000-44999       40000    1.91         5
   5:           &lt;NA&gt;          &lt;NA&gt; 75000-99999       87500    1.84         6
  ---                                                                       
9145: 9 - 11th Grade  NeverMarried   5000-9999        7500    0.46         3
9146: 9 - 11th Grade  NeverMarried   5000-9999        7500    0.46         3
9147:   College Grad       Married 75000-99999       87500    3.25        10
9148:   College Grad  NeverMarried 65000-74999       70000    5.00         4
9149:   College Grad  NeverMarried 65000-74999       70000    5.00         4
      HomeOwn       Work Weight Length HeadCirc Height   BMI BMICatUnder20yrs
       &lt;fctr&gt;     &lt;fctr&gt;  &lt;num&gt;  &lt;num&gt;    &lt;num&gt;  &lt;num&gt; &lt;num&gt;           &lt;fctr&gt;
   1:     Own NotWorking   87.4     NA       NA  164.7 32.22             &lt;NA&gt;
   2:     Own NotWorking   87.4     NA       NA  164.7 32.22             &lt;NA&gt;
   3:     Own NotWorking   87.4     NA       NA  164.7 32.22             &lt;NA&gt;
   4:    Rent NotWorking   86.7     NA       NA  168.4 30.57             &lt;NA&gt;
   5:    Rent       &lt;NA&gt;   29.8     NA       NA  133.1 16.82             &lt;NA&gt;
  ---                                                                        
9145:    Rent    Working   92.3     NA       NA  177.3 29.40             &lt;NA&gt;
9146:    Rent    Working   92.3     NA       NA  177.3 29.40             &lt;NA&gt;
9147:     Own    Working   96.7     NA       NA  175.8 31.30             &lt;NA&gt;
9148:     Own    Working   78.4     NA       NA  168.8 27.50             &lt;NA&gt;
9149:     Own    Working   78.4     NA       NA  168.8 27.50             &lt;NA&gt;
           BMI_WHO Pulse BPSysAve BPDiaAve BPSys1 BPDia1 BPSys2 BPDia2 BPSys3
            &lt;fctr&gt; &lt;int&gt;    &lt;int&gt;    &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;
   1:    30.0_plus    70      113       85    114     88    114     88    112
   2:    30.0_plus    70      113       85    114     88    114     88    112
   3:    30.0_plus    70      113       85    114     88    114     88    112
   4:    30.0_plus    86      112       75    118     82    108     74    116
   5:    12.0_18.5    82       86       47     84     50     84     50     88
  ---                                                                        
9145: 25.0_to_29.9    68      124       65    124     62    126     64    122
9146: 25.0_to_29.9    68      124       65    124     62    126     64    122
9147:    30.0_plus    74      133       74    122     76    132     82    134
9148: 25.0_to_29.9    76      147       73    150     72    148     74    146
9149: 25.0_to_29.9    76      147       73    150     72    148     74    146
      BPDia3 Testosterone DirectChol TotChol UrineVol1 UrineFlow1 UrineVol2
       &lt;int&gt;        &lt;num&gt;      &lt;num&gt;   &lt;num&gt;     &lt;int&gt;      &lt;num&gt;     &lt;int&gt;
   1:     82           NA       1.29    3.49       352         NA        NA
   2:     82           NA       1.29    3.49       352         NA        NA
   3:     82           NA       1.29    3.49       352         NA        NA
   4:     76           NA       1.16    6.70        77      0.094        NA
   5:     44           NA       1.34    4.86       123      1.538        NA
  ---                                                                      
9145:     66       490.43       1.22    3.90        97      0.942        NA
9146:     66       490.43       1.22    3.90        97      0.942        NA
9147:     66       509.00       1.06    5.72        63      0.600        NA
9148:     72       505.13       0.93    4.94       218      1.253        NA
9149:     72       505.13       0.93    4.94       218      1.253        NA
      UrineFlow2 Diabetes DiabetesAge HealthGen DaysPhysHlthBad DaysMentHlthBad
           &lt;num&gt;   &lt;fctr&gt;       &lt;int&gt;    &lt;fctr&gt;           &lt;int&gt;           &lt;int&gt;
   1:         NA       No          NA      Good               0              15
   2:         NA       No          NA      Good               0              15
   3:         NA       No          NA      Good               0              15
   4:         NA       No          NA      Good               0              10
   5:         NA       No          NA      &lt;NA&gt;              NA              NA
  ---                                                                          
9145:         NA       No          NA      &lt;NA&gt;              NA              NA
9146:         NA       No          NA      &lt;NA&gt;              NA              NA
9147:         NA       No          NA      Good               0               2
9148:         NA      Yes          56      Good               0               2
9149:         NA      Yes          56      Good               0               2
      LittleInterest Depressed nPregnancies nBabies Age1stBaby SleepHrsNight
              &lt;fctr&gt;    &lt;fctr&gt;        &lt;int&gt;   &lt;int&gt;      &lt;int&gt;         &lt;int&gt;
   1:           Most   Several           NA      NA         NA             4
   2:           Most   Several           NA      NA         NA             4
   3:           Most   Several           NA      NA         NA             4
   4:        Several   Several            2       2         27             8
   5:           &lt;NA&gt;      &lt;NA&gt;           NA      NA         NA            NA
  ---                                                                       
9145:           &lt;NA&gt;      &lt;NA&gt;           NA      NA         NA             6
9146:           &lt;NA&gt;      &lt;NA&gt;           NA      NA         NA             6
9147:           None      None           NA      NA         NA             6
9148:           None      None           NA      NA         NA             6
9149:           None      None           NA      NA         NA             6
      SleepTrouble PhysActive PhysActiveDays TVHrsDay CompHrsDay TVHrsDayChild
            &lt;fctr&gt;     &lt;fctr&gt;          &lt;int&gt;   &lt;fctr&gt;     &lt;fctr&gt;         &lt;int&gt;
   1:          Yes         No             NA     &lt;NA&gt;       &lt;NA&gt;            NA
   2:          Yes         No             NA     &lt;NA&gt;       &lt;NA&gt;            NA
   3:          Yes         No             NA     &lt;NA&gt;       &lt;NA&gt;            NA
   4:          Yes         No             NA     &lt;NA&gt;       &lt;NA&gt;            NA
   5:         &lt;NA&gt;       &lt;NA&gt;             NA     &lt;NA&gt;       &lt;NA&gt;             5
  ---                                                                         
9145:           No        Yes             NA     1_hr       2_hr            NA
9146:           No        Yes             NA     1_hr       2_hr            NA
9147:           No         No              3     1_hr  0_to_1_hr            NA
9148:           No         No              1     2_hr       1_hr            NA
9149:           No         No             NA     2_hr       1_hr            NA
      CompHrsDayChild Alcohol12PlusYr AlcoholDay AlcoholYear SmokeNow Smoke100
                &lt;int&gt;          &lt;fctr&gt;      &lt;int&gt;       &lt;int&gt;   &lt;fctr&gt;   &lt;fctr&gt;
   1:              NA             Yes         NA           0       No      Yes
   2:              NA             Yes         NA           0       No      Yes
   3:              NA             Yes         NA           0       No      Yes
   4:              NA             Yes          2          20      Yes      Yes
   5:               0            &lt;NA&gt;         NA          NA     &lt;NA&gt;     &lt;NA&gt;
  ---                                                                         
9145:              NA            &lt;NA&gt;         NA          NA      Yes      Yes
9146:              NA            &lt;NA&gt;         NA          NA      Yes      Yes
9147:              NA             Yes          5           4     &lt;NA&gt;       No
9148:              NA             Yes         NA           0     &lt;NA&gt;       No
9149:              NA             Yes         NA           0     &lt;NA&gt;       No
       Smoke100n SmokeAge Marijuana AgeFirstMarij RegularMarij AgeRegMarij
          &lt;fctr&gt;    &lt;int&gt;    &lt;fctr&gt;         &lt;int&gt;       &lt;fctr&gt;       &lt;int&gt;
   1:     Smoker       18       Yes            17           No          NA
   2:     Smoker       18       Yes            17           No          NA
   3:     Smoker       18       Yes            17           No          NA
   4:     Smoker       38       Yes            18           No          NA
   5:       &lt;NA&gt;       NA      &lt;NA&gt;            NA         &lt;NA&gt;          NA
  ---                                                                     
9145:     Smoker       18      &lt;NA&gt;            NA         &lt;NA&gt;          NA
9146:     Smoker       18      &lt;NA&gt;            NA         &lt;NA&gt;          NA
9147: Non-Smoker       NA       Yes            22           No          NA
9148: Non-Smoker       NA      &lt;NA&gt;            NA         &lt;NA&gt;          NA
9149: Non-Smoker       NA      &lt;NA&gt;            NA         &lt;NA&gt;          NA
      HardDrugs SexEver SexAge SexNumPartnLife SexNumPartYear SameSex
         &lt;fctr&gt;  &lt;fctr&gt;  &lt;int&gt;           &lt;int&gt;          &lt;int&gt;  &lt;fctr&gt;
   1:       Yes     Yes     16               8              1      No
   2:       Yes     Yes     16               8              1      No
   3:       Yes     Yes     16               8              1      No
   4:       Yes     Yes     12              10              1     Yes
   5:      &lt;NA&gt;    &lt;NA&gt;     NA              NA             NA    &lt;NA&gt;
  ---                                                                
9145:      &lt;NA&gt;    &lt;NA&gt;     NA              NA             NA    &lt;NA&gt;
9146:      &lt;NA&gt;    &lt;NA&gt;     NA              NA             NA    &lt;NA&gt;
9147:        No     Yes     21               1              1      No
9148:        No     Yes     19               2             NA      No
9149:        No     Yes     19               2             NA      No
      SexOrientation PregnantNow
              &lt;fctr&gt;      &lt;fctr&gt;
   1:   Heterosexual        &lt;NA&gt;
   2:   Heterosexual        &lt;NA&gt;
   3:   Heterosexual        &lt;NA&gt;
   4:   Heterosexual        &lt;NA&gt;
   5:           &lt;NA&gt;        &lt;NA&gt;
  ---                           
9145:           &lt;NA&gt;        &lt;NA&gt;
9146:           &lt;NA&gt;        &lt;NA&gt;
9147:   Heterosexual        &lt;NA&gt;
9148:           &lt;NA&gt;        &lt;NA&gt;
9149:           &lt;NA&gt;        &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>nhanes[<span class="sc">!</span><span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] <span class="co"># if we are not interested in rows 1-3. nhanes[-(1:3)]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         ID SurveyYr Gender   Age AgeDecade AgeMonths   Race1   Race3
      &lt;int&gt;   &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt;    &lt;fctr&gt;     &lt;int&gt;  &lt;fctr&gt;  &lt;fctr&gt;
   1: 51625  2009_10   male     4       0-9        49   Other    &lt;NA&gt;
   2: 51630  2009_10 female    49     40-49       596   White    &lt;NA&gt;
   3: 51638  2009_10   male     9       0-9       115   White    &lt;NA&gt;
   4: 51646  2009_10   male     8       0-9       101   White    &lt;NA&gt;
   5: 51647  2009_10 female    45     40-49       541   White    &lt;NA&gt;
  ---                                                                
9993: 71909  2011_12   male    28     20-29        NA Mexican Mexican
9994: 71910  2011_12 female     0       0-9         5   White   White
9995: 71911  2011_12   male    27     20-29        NA Mexican Mexican
9996: 71915  2011_12   male    60     60-69        NA   White   White
9997: 71915  2011_12   male    60     60-69        NA   White   White
           Education MaritalStatus    HHIncome HHIncomeMid Poverty HomeRooms
              &lt;fctr&gt;        &lt;fctr&gt;      &lt;fctr&gt;       &lt;int&gt;   &lt;num&gt;     &lt;int&gt;
   1:           &lt;NA&gt;          &lt;NA&gt; 20000-24999       22500    1.07         9
   2:   Some College   LivePartner 35000-44999       40000    1.91         5
   3:           &lt;NA&gt;          &lt;NA&gt; 75000-99999       87500    1.84         6
   4:           &lt;NA&gt;          &lt;NA&gt; 55000-64999       60000    2.33         7
   5:   College Grad       Married 75000-99999       87500    5.00         6
  ---                                                                       
9993: 9 - 11th Grade  NeverMarried   5000-9999        7500    0.46         3
9994:           &lt;NA&gt;          &lt;NA&gt; 75000-99999       87500    3.37        10
9995:   College Grad       Married 75000-99999       87500    3.25        10
9996:   College Grad  NeverMarried 65000-74999       70000    5.00         4
9997:   College Grad  NeverMarried 65000-74999       70000    5.00         4
      HomeOwn       Work Weight Length HeadCirc Height   BMI BMICatUnder20yrs
       &lt;fctr&gt;     &lt;fctr&gt;  &lt;num&gt;  &lt;num&gt;    &lt;num&gt;  &lt;num&gt; &lt;num&gt;           &lt;fctr&gt;
   1:     Own       &lt;NA&gt;   17.0     NA       NA  105.4 15.30             &lt;NA&gt;
   2:    Rent NotWorking   86.7     NA       NA  168.4 30.57             &lt;NA&gt;
   3:    Rent       &lt;NA&gt;   29.8     NA       NA  133.1 16.82             &lt;NA&gt;
   4:     Own       &lt;NA&gt;   35.2     NA       NA  130.6 20.64             &lt;NA&gt;
   5:     Own    Working   75.7     NA       NA  166.7 27.24             &lt;NA&gt;
  ---                                                                        
9993:    Rent    Working   92.3     NA       NA  177.3 29.40             &lt;NA&gt;
9994:     Own       &lt;NA&gt;    6.7   67.6     42.2     NA    NA             &lt;NA&gt;
9995:     Own    Working   96.7     NA       NA  175.8 31.30             &lt;NA&gt;
9996:     Own    Working   78.4     NA       NA  168.8 27.50             &lt;NA&gt;
9997:     Own    Working   78.4     NA       NA  168.8 27.50             &lt;NA&gt;
           BMI_WHO Pulse BPSysAve BPDiaAve BPSys1 BPDia1 BPSys2 BPDia2 BPSys3
            &lt;fctr&gt; &lt;int&gt;    &lt;int&gt;    &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;
   1:    12.0_18.5    NA       NA       NA     NA     NA     NA     NA     NA
   2:    30.0_plus    86      112       75    118     82    108     74    116
   3:    12.0_18.5    82       86       47     84     50     84     50     88
   4: 18.5_to_24.9    72      107       37    114     46    108     36    106
   5: 25.0_to_29.9    62      118       64    106     62    118     68    118
  ---                                                                        
9993: 25.0_to_29.9    68      124       65    124     62    126     64    122
9994:         &lt;NA&gt;    NA       NA       NA     NA     NA     NA     NA     NA
9995:    30.0_plus    74      133       74    122     76    132     82    134
9996: 25.0_to_29.9    76      147       73    150     72    148     74    146
9997: 25.0_to_29.9    76      147       73    150     72    148     74    146
      BPDia3 Testosterone DirectChol TotChol UrineVol1 UrineFlow1 UrineVol2
       &lt;int&gt;        &lt;num&gt;      &lt;num&gt;   &lt;num&gt;     &lt;int&gt;      &lt;num&gt;     &lt;int&gt;
   1:     NA           NA         NA      NA        NA         NA        NA
   2:     76           NA       1.16    6.70        77      0.094        NA
   3:     44           NA       1.34    4.86       123      1.538        NA
   4:     38           NA       1.55    4.09       238      1.322        NA
   5:     60           NA       2.12    5.82       106      1.116        NA
  ---                                                                      
9993:     66       490.43       1.22    3.90        97      0.942        NA
9994:     NA           NA         NA      NA        NA         NA        NA
9995:     66       509.00       1.06    5.72        63      0.600        NA
9996:     72       505.13       0.93    4.94       218      1.253        NA
9997:     72       505.13       0.93    4.94       218      1.253        NA
      UrineFlow2 Diabetes DiabetesAge HealthGen DaysPhysHlthBad DaysMentHlthBad
           &lt;num&gt;   &lt;fctr&gt;       &lt;int&gt;    &lt;fctr&gt;           &lt;int&gt;           &lt;int&gt;
   1:         NA       No          NA      &lt;NA&gt;              NA              NA
   2:         NA       No          NA      Good               0              10
   3:         NA       No          NA      &lt;NA&gt;              NA              NA
   4:         NA       No          NA      &lt;NA&gt;              NA              NA
   5:         NA       No          NA     Vgood               0               3
  ---                                                                          
9993:         NA       No          NA      &lt;NA&gt;              NA              NA
9994:         NA     &lt;NA&gt;          NA      &lt;NA&gt;              NA              NA
9995:         NA       No          NA      Good               0               2
9996:         NA      Yes          56      Good               0               2
9997:         NA      Yes          56      Good               0               2
      LittleInterest Depressed nPregnancies nBabies Age1stBaby SleepHrsNight
              &lt;fctr&gt;    &lt;fctr&gt;        &lt;int&gt;   &lt;int&gt;      &lt;int&gt;         &lt;int&gt;
   1:           &lt;NA&gt;      &lt;NA&gt;           NA      NA         NA            NA
   2:        Several   Several            2       2         27             8
   3:           &lt;NA&gt;      &lt;NA&gt;           NA      NA         NA            NA
   4:           &lt;NA&gt;      &lt;NA&gt;           NA      NA         NA            NA
   5:           None      None            1      NA         NA             8
  ---                                                                       
9993:           &lt;NA&gt;      &lt;NA&gt;           NA      NA         NA             6
9994:           &lt;NA&gt;      &lt;NA&gt;           NA      NA         NA            NA
9995:           None      None           NA      NA         NA             6
9996:           None      None           NA      NA         NA             6
9997:           None      None           NA      NA         NA             6
      SleepTrouble PhysActive PhysActiveDays TVHrsDay CompHrsDay TVHrsDayChild
            &lt;fctr&gt;     &lt;fctr&gt;          &lt;int&gt;   &lt;fctr&gt;     &lt;fctr&gt;         &lt;int&gt;
   1:         &lt;NA&gt;       &lt;NA&gt;             NA     &lt;NA&gt;       &lt;NA&gt;             4
   2:          Yes         No             NA     &lt;NA&gt;       &lt;NA&gt;            NA
   3:         &lt;NA&gt;       &lt;NA&gt;             NA     &lt;NA&gt;       &lt;NA&gt;             5
   4:         &lt;NA&gt;       &lt;NA&gt;             NA     &lt;NA&gt;       &lt;NA&gt;             1
   5:           No        Yes              5     &lt;NA&gt;       &lt;NA&gt;            NA
  ---                                                                         
9993:           No        Yes             NA     1_hr       2_hr            NA
9994:         &lt;NA&gt;       &lt;NA&gt;             NA     &lt;NA&gt;       &lt;NA&gt;            NA
9995:           No         No              3     1_hr  0_to_1_hr            NA
9996:           No         No              1     2_hr       1_hr            NA
9997:           No         No             NA     2_hr       1_hr            NA
      CompHrsDayChild Alcohol12PlusYr AlcoholDay AlcoholYear SmokeNow Smoke100
                &lt;int&gt;          &lt;fctr&gt;      &lt;int&gt;       &lt;int&gt;   &lt;fctr&gt;   &lt;fctr&gt;
   1:               1            &lt;NA&gt;         NA          NA     &lt;NA&gt;     &lt;NA&gt;
   2:              NA             Yes          2          20      Yes      Yes
   3:               0            &lt;NA&gt;         NA          NA     &lt;NA&gt;     &lt;NA&gt;
   4:               6            &lt;NA&gt;         NA          NA     &lt;NA&gt;     &lt;NA&gt;
   5:              NA             Yes          3          52     &lt;NA&gt;       No
  ---                                                                         
9993:              NA            &lt;NA&gt;         NA          NA      Yes      Yes
9994:              NA            &lt;NA&gt;         NA          NA     &lt;NA&gt;     &lt;NA&gt;
9995:              NA             Yes          5           4     &lt;NA&gt;       No
9996:              NA             Yes         NA           0     &lt;NA&gt;       No
9997:              NA             Yes         NA           0     &lt;NA&gt;       No
       Smoke100n SmokeAge Marijuana AgeFirstMarij RegularMarij AgeRegMarij
          &lt;fctr&gt;    &lt;int&gt;    &lt;fctr&gt;         &lt;int&gt;       &lt;fctr&gt;       &lt;int&gt;
   1:       &lt;NA&gt;       NA      &lt;NA&gt;            NA         &lt;NA&gt;          NA
   2:     Smoker       38       Yes            18           No          NA
   3:       &lt;NA&gt;       NA      &lt;NA&gt;            NA         &lt;NA&gt;          NA
   4:       &lt;NA&gt;       NA      &lt;NA&gt;            NA         &lt;NA&gt;          NA
   5: Non-Smoker       NA       Yes            13           No          NA
  ---                                                                     
9993:     Smoker       18      &lt;NA&gt;            NA         &lt;NA&gt;          NA
9994:       &lt;NA&gt;       NA      &lt;NA&gt;            NA         &lt;NA&gt;          NA
9995: Non-Smoker       NA       Yes            22           No          NA
9996: Non-Smoker       NA      &lt;NA&gt;            NA         &lt;NA&gt;          NA
9997: Non-Smoker       NA      &lt;NA&gt;            NA         &lt;NA&gt;          NA
      HardDrugs SexEver SexAge SexNumPartnLife SexNumPartYear SameSex
         &lt;fctr&gt;  &lt;fctr&gt;  &lt;int&gt;           &lt;int&gt;          &lt;int&gt;  &lt;fctr&gt;
   1:      &lt;NA&gt;    &lt;NA&gt;     NA              NA             NA    &lt;NA&gt;
   2:       Yes     Yes     12              10              1     Yes
   3:      &lt;NA&gt;    &lt;NA&gt;     NA              NA             NA    &lt;NA&gt;
   4:      &lt;NA&gt;    &lt;NA&gt;     NA              NA             NA    &lt;NA&gt;
   5:        No     Yes     13              20              0     Yes
  ---                                                                
9993:      &lt;NA&gt;    &lt;NA&gt;     NA              NA             NA    &lt;NA&gt;
9994:      &lt;NA&gt;    &lt;NA&gt;     NA              NA             NA    &lt;NA&gt;
9995:        No     Yes     21               1              1      No
9996:        No     Yes     19               2             NA      No
9997:        No     Yes     19               2             NA      No
      SexOrientation PregnantNow
              &lt;fctr&gt;      &lt;fctr&gt;
   1:           &lt;NA&gt;        &lt;NA&gt;
   2:   Heterosexual        &lt;NA&gt;
   3:           &lt;NA&gt;        &lt;NA&gt;
   4:           &lt;NA&gt;        &lt;NA&gt;
   5:       Bisexual        &lt;NA&gt;
  ---                           
9993:           &lt;NA&gt;        &lt;NA&gt;
9994:           &lt;NA&gt;        &lt;NA&gt;
9995:   Heterosexual        &lt;NA&gt;
9996:           &lt;NA&gt;        &lt;NA&gt;
9997:           &lt;NA&gt;        &lt;NA&gt;</code></pre>
</div>
</div>
<p>We can order the dataset by a particular column</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>nhanes[<span class="fu">order</span>(Age)] <span class="co">#sorting or ordering by the age column.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          ID SurveyYr Gender   Age AgeDecade AgeMonths    Race1  Race3
       &lt;int&gt;   &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt;    &lt;fctr&gt;     &lt;int&gt;   &lt;fctr&gt; &lt;fctr&gt;
    1: 51962  2009_10 female     0       0-9         2 Hispanic   &lt;NA&gt;
    2: 52066  2009_10 female     0       0-9         8    Black   &lt;NA&gt;
    3: 52300  2009_10   male     0       0-9         2    Black   &lt;NA&gt;
    4: 52373  2009_10   male     0       0-9         7    Black   &lt;NA&gt;
    5: 52435  2009_10 female     0       0-9         6    White   &lt;NA&gt;
   ---                                                                
 9996: 71797  2011_12   male    80      &lt;NA&gt;        NA    White  White
 9997: 71797  2011_12   male    80      &lt;NA&gt;        NA    White  White
 9998: 71907  2011_12   male    80      &lt;NA&gt;        NA    White  White
 9999: 71907  2011_12   male    80      &lt;NA&gt;        NA    White  White
10000: 71907  2011_12   male    80      &lt;NA&gt;        NA    White  White
         Education MaritalStatus    HHIncome HHIncomeMid Poverty HomeRooms
            &lt;fctr&gt;        &lt;fctr&gt;      &lt;fctr&gt;       &lt;int&gt;   &lt;num&gt;     &lt;int&gt;
    1:        &lt;NA&gt;          &lt;NA&gt; 15000-19999       17500    1.24         4
    2:        &lt;NA&gt;          &lt;NA&gt;      0-4999        2500    0.24         5
    3:        &lt;NA&gt;          &lt;NA&gt;   5000-9999        7500    0.55         3
    4:        &lt;NA&gt;          &lt;NA&gt; 75000-99999       87500    5.00         4
    5:        &lt;NA&gt;          &lt;NA&gt; 45000-54999       50000    2.04         5
   ---                                                                    
 9996: High School       Widowed        &lt;NA&gt;          NA      NA        NA
 9997: High School       Widowed        &lt;NA&gt;          NA      NA        NA
 9998: High School       Married 55000-64999       60000    4.08         6
 9999: High School       Married 55000-64999       60000    4.08         6
10000: High School       Married 55000-64999       60000    4.08         6
       HomeOwn       Work Weight Length HeadCirc Height   BMI BMICatUnder20yrs
        &lt;fctr&gt;     &lt;fctr&gt;  &lt;num&gt;  &lt;num&gt;    &lt;num&gt;  &lt;num&gt; &lt;num&gt;           &lt;fctr&gt;
    1:    Rent       &lt;NA&gt;    4.5   56.6     38.8     NA    NA             &lt;NA&gt;
    2:    Rent       &lt;NA&gt;    9.5   72.5       NA     NA    NA             &lt;NA&gt;
    3:    Rent       &lt;NA&gt;    6.9   63.4     41.9     NA    NA             &lt;NA&gt;
    4:     Own       &lt;NA&gt;   10.7   74.7       NA     NA    NA             &lt;NA&gt;
    5:     Own       &lt;NA&gt;    9.0   64.7     44.3     NA    NA             &lt;NA&gt;
   ---                                                                        
 9996:    &lt;NA&gt; NotWorking     NA     NA       NA  182.6    NA             &lt;NA&gt;
 9997:    &lt;NA&gt; NotWorking     NA     NA       NA  182.6    NA             &lt;NA&gt;
 9998:     Own NotWorking   71.5     NA       NA  175.4  23.2             &lt;NA&gt;
 9999:     Own NotWorking   71.5     NA       NA  175.4  23.2             &lt;NA&gt;
10000:     Own NotWorking   71.5     NA       NA  175.4  23.2             &lt;NA&gt;
            BMI_WHO Pulse BPSysAve BPDiaAve BPSys1 BPDia1 BPSys2 BPDia2 BPSys3
             &lt;fctr&gt; &lt;int&gt;    &lt;int&gt;    &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;
    1:         &lt;NA&gt;    NA       NA       NA     NA     NA     NA     NA     NA
    2:         &lt;NA&gt;    NA       NA       NA     NA     NA     NA     NA     NA
    3:         &lt;NA&gt;    NA       NA       NA     NA     NA     NA     NA     NA
    4:         &lt;NA&gt;    NA       NA       NA     NA     NA     NA     NA     NA
    5:         &lt;NA&gt;    NA       NA       NA     NA     NA     NA     NA     NA
   ---                                                                        
 9996:         &lt;NA&gt;    74      153       52    164     60    158     62    148
 9997:         &lt;NA&gt;    74      153       52    164     60    158     62    148
 9998: 18.5_to_24.9    54      148       70    150     72    150     70    146
 9999: 18.5_to_24.9    54      148       70    150     72    150     70    146
10000: 18.5_to_24.9    54      148       70    150     72    150     70    146
       BPDia3 Testosterone DirectChol TotChol UrineVol1 UrineFlow1 UrineVol2
        &lt;int&gt;        &lt;num&gt;      &lt;num&gt;   &lt;num&gt;     &lt;int&gt;      &lt;num&gt;     &lt;int&gt;
    1:     NA           NA         NA      NA        NA         NA        NA
    2:     NA           NA         NA      NA        NA         NA        NA
    3:     NA           NA         NA      NA        NA         NA        NA
    4:     NA           NA         NA      NA        NA         NA        NA
    5:     NA           NA         NA      NA        NA         NA        NA
   ---                                                                      
 9996:     42        401.0       0.72    3.65       313      1.079        NA
 9997:     42        401.0       0.72    3.65       313      1.079        NA
 9998:     70        402.9       1.27    4.37        61      1.052        NA
 9999:     70        402.9       1.27    4.37        61      1.052        NA
10000:     70        402.9       1.27    4.37        61      1.052        NA
       UrineFlow2 Diabetes DiabetesAge HealthGen DaysPhysHlthBad
            &lt;num&gt;   &lt;fctr&gt;       &lt;int&gt;    &lt;fctr&gt;           &lt;int&gt;
    1:         NA     &lt;NA&gt;          NA      &lt;NA&gt;              NA
    2:         NA     &lt;NA&gt;          NA      &lt;NA&gt;              NA
    3:         NA     &lt;NA&gt;          NA      &lt;NA&gt;              NA
    4:         NA     &lt;NA&gt;          NA      &lt;NA&gt;              NA
    5:         NA     &lt;NA&gt;          NA      &lt;NA&gt;              NA
   ---                                                          
 9996:         NA      Yes          30      Good               0
 9997:         NA      Yes          30      Good               0
 9998:         NA       No          NA      Good               0
 9999:         NA       No          NA      Good               0
10000:         NA       No          NA      Good               0
       DaysMentHlthBad LittleInterest Depressed nPregnancies nBabies Age1stBaby
                 &lt;int&gt;         &lt;fctr&gt;    &lt;fctr&gt;        &lt;int&gt;   &lt;int&gt;      &lt;int&gt;
    1:              NA           &lt;NA&gt;      &lt;NA&gt;           NA      NA         NA
    2:              NA           &lt;NA&gt;      &lt;NA&gt;           NA      NA         NA
    3:              NA           &lt;NA&gt;      &lt;NA&gt;           NA      NA         NA
    4:              NA           &lt;NA&gt;      &lt;NA&gt;           NA      NA         NA
    5:              NA           &lt;NA&gt;      &lt;NA&gt;           NA      NA         NA
   ---                                                                         
 9996:              30        Several   Several           NA      NA         NA
 9997:              30        Several   Several           NA      NA         NA
 9998:               0           None      None           NA      NA         NA
 9999:               0           None      None           NA      NA         NA
10000:               0           None      None           NA      NA         NA
       SleepHrsNight SleepTrouble PhysActive PhysActiveDays TVHrsDay CompHrsDay
               &lt;int&gt;       &lt;fctr&gt;     &lt;fctr&gt;          &lt;int&gt;   &lt;fctr&gt;     &lt;fctr&gt;
    1:            NA         &lt;NA&gt;       &lt;NA&gt;             NA     &lt;NA&gt;       &lt;NA&gt;
    2:            NA         &lt;NA&gt;       &lt;NA&gt;             NA     &lt;NA&gt;       &lt;NA&gt;
    3:            NA         &lt;NA&gt;       &lt;NA&gt;             NA     &lt;NA&gt;       &lt;NA&gt;
    4:            NA         &lt;NA&gt;       &lt;NA&gt;             NA     &lt;NA&gt;       &lt;NA&gt;
    5:            NA         &lt;NA&gt;       &lt;NA&gt;             NA     &lt;NA&gt;       &lt;NA&gt;
   ---                                                                         
 9996:             8           No         No              1    0_hrs      0_hrs
 9997:             8           No         No              5    0_hrs      0_hrs
 9998:             5           No        Yes             NA     3_hr      0_hrs
 9999:             5           No        Yes              4     3_hr      0_hrs
10000:             5           No        Yes              7     3_hr      0_hrs
       TVHrsDayChild CompHrsDayChild Alcohol12PlusYr AlcoholDay AlcoholYear
               &lt;int&gt;           &lt;int&gt;          &lt;fctr&gt;      &lt;int&gt;       &lt;int&gt;
    1:            NA              NA            &lt;NA&gt;         NA          NA
    2:            NA              NA            &lt;NA&gt;         NA          NA
    3:            NA              NA            &lt;NA&gt;         NA          NA
    4:            NA              NA            &lt;NA&gt;         NA          NA
    5:            NA              NA            &lt;NA&gt;         NA          NA
   ---                                                                     
 9996:            NA              NA             Yes          1         156
 9997:            NA              NA             Yes          1         156
 9998:            NA              NA             Yes         NA           0
 9999:            NA              NA             Yes         NA           0
10000:            NA              NA             Yes         NA           0
       SmokeNow Smoke100  Smoke100n SmokeAge Marijuana AgeFirstMarij
         &lt;fctr&gt;   &lt;fctr&gt;     &lt;fctr&gt;    &lt;int&gt;    &lt;fctr&gt;         &lt;int&gt;
    1:     &lt;NA&gt;     &lt;NA&gt;       &lt;NA&gt;       NA      &lt;NA&gt;            NA
    2:     &lt;NA&gt;     &lt;NA&gt;       &lt;NA&gt;       NA      &lt;NA&gt;            NA
    3:     &lt;NA&gt;     &lt;NA&gt;       &lt;NA&gt;       NA      &lt;NA&gt;            NA
    4:     &lt;NA&gt;     &lt;NA&gt;       &lt;NA&gt;       NA      &lt;NA&gt;            NA
    5:     &lt;NA&gt;     &lt;NA&gt;       &lt;NA&gt;       NA      &lt;NA&gt;            NA
   ---                                                              
 9996:     &lt;NA&gt;       No Non-Smoker       NA      &lt;NA&gt;            NA
 9997:     &lt;NA&gt;       No Non-Smoker       NA      &lt;NA&gt;            NA
 9998:     &lt;NA&gt;       No Non-Smoker       NA      &lt;NA&gt;            NA
 9999:     &lt;NA&gt;       No Non-Smoker       NA      &lt;NA&gt;            NA
10000:     &lt;NA&gt;       No Non-Smoker       NA      &lt;NA&gt;            NA
       RegularMarij AgeRegMarij HardDrugs SexEver SexAge SexNumPartnLife
             &lt;fctr&gt;       &lt;int&gt;    &lt;fctr&gt;  &lt;fctr&gt;  &lt;int&gt;           &lt;int&gt;
    1:         &lt;NA&gt;          NA      &lt;NA&gt;    &lt;NA&gt;     NA              NA
    2:         &lt;NA&gt;          NA      &lt;NA&gt;    &lt;NA&gt;     NA              NA
    3:         &lt;NA&gt;          NA      &lt;NA&gt;    &lt;NA&gt;     NA              NA
    4:         &lt;NA&gt;          NA      &lt;NA&gt;    &lt;NA&gt;     NA              NA
    5:         &lt;NA&gt;          NA      &lt;NA&gt;    &lt;NA&gt;     NA              NA
   ---                                                                  
 9996:         &lt;NA&gt;          NA      &lt;NA&gt;    &lt;NA&gt;     NA              NA
 9997:         &lt;NA&gt;          NA      &lt;NA&gt;    &lt;NA&gt;     NA              NA
 9998:         &lt;NA&gt;          NA      &lt;NA&gt;    &lt;NA&gt;     NA              NA
 9999:         &lt;NA&gt;          NA      &lt;NA&gt;    &lt;NA&gt;     NA              NA
10000:         &lt;NA&gt;          NA      &lt;NA&gt;    &lt;NA&gt;     NA              NA
       SexNumPartYear SameSex SexOrientation PregnantNow
                &lt;int&gt;  &lt;fctr&gt;         &lt;fctr&gt;      &lt;fctr&gt;
    1:             NA    &lt;NA&gt;           &lt;NA&gt;        &lt;NA&gt;
    2:             NA    &lt;NA&gt;           &lt;NA&gt;        &lt;NA&gt;
    3:             NA    &lt;NA&gt;           &lt;NA&gt;        &lt;NA&gt;
    4:             NA    &lt;NA&gt;           &lt;NA&gt;        &lt;NA&gt;
    5:             NA    &lt;NA&gt;           &lt;NA&gt;        &lt;NA&gt;
   ---                                                  
 9996:             NA    &lt;NA&gt;           &lt;NA&gt;        &lt;NA&gt;
 9997:             NA    &lt;NA&gt;           &lt;NA&gt;        &lt;NA&gt;
 9998:             NA    &lt;NA&gt;           &lt;NA&gt;        &lt;NA&gt;
 9999:             NA    &lt;NA&gt;           &lt;NA&gt;        &lt;NA&gt;
10000:             NA    &lt;NA&gt;           &lt;NA&gt;        &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>nhanes[, <span class="fu">list</span>(Age)] <span class="co"># Age as a vector.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         Age
       &lt;int&gt;
    1:    34
    2:    34
    3:    34
    4:     4
    5:    49
   ---      
 9996:    28
 9997:     0
 9998:    27
 9999:    60
10000:    60</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>nhanes[, .(<span class="fu">sum</span>(Age))] <span class="co"># sum the values of Age.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       V1
    &lt;int&gt;
1: 367421</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>nhanes[, .(Age, Age<span class="sc">*</span><span class="dv">2</span>)] <span class="co"># produce two columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         Age    V2
       &lt;int&gt; &lt;num&gt;
    1:    34    68
    2:    34    68
    3:    34    68
    4:     4     8
    5:    49    98
   ---            
 9996:    28    56
 9997:     0     0
 9998:    27    54
 9999:    60   120
10000:    60   120</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setkeyv</span>(nhanes, <span class="st">"SurveyYr"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>nhanes[<span class="st">"Gender"</span>, .N]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Made with ❤️ and Quarto</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>